{
  "hash": "3e79511d0361308312e60714407b1cd8",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"3 - Data Exploration\"\nsubtitle: \" \"\nauthor: \"Felipe Melo\"\ninstitute: \"Nottingham Trent University - UK\"\nfrom: markdown+emoji\nformat:\n  revealjs:\n    theme: [default, custom.scss]\n    incremental: false\n    chalkboard: true\n    logo: img/ntu_logo.png\n    #footer: \"Research Methods & Data Analysis\"\n    slide-number: true\n    transition: slide\n    background-transition: fade\n    #auto-stretch: true\n    title-block-banner: true\n\n---\n\n\n\n## You should know today\n\n- Make questions to your data?\n- Explore the basic features of your data\n- Make simple exploratory graphics\n\n\n## Before we begin\n\n::::{.columns}\n:::{.column width=\"50%\"}\n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Attention_Sign.svg/1162px-Attention_Sign.svg.png)\n\n:::\n\n:::{.column width=\"50%\"}\n- R and Rstudio installed\n- Don't panic\n- Everything is reproducible\n- You'll have to train to fix the content\n\n\n:::\n::::\n\n## What questions should I make to the data?{.center}\n\n## Back to Spreadsheets\n\n[The Penguins file](https://raw.githubusercontent.com/fplmelo/ecoaplic/refs/heads/main/content/slides_aulas/rm_da/penguins.csv)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_df<-read.csv(\"https://raw.githubusercontent.com/fplmelo/ecoaplic/refs/heads/main/content/slides_aulas/rm_da/penguins.csv\")\npenguins_df\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                   version.https...git.lfs.github.com.spec.v1\n1 oid sha256:bf3738eebc06177e1977438551f87d5e7ead6ddf3c7f3152fcef0ee2152241a1\n2                                                                  size 19258\n```\n\n\n:::\n:::\n\n\n\n\n\n## \n![](img/dataviz_flow2.png)\nsource: Andrew Gard <https://www.youtube.com/@EquitableEquations>\n\n## We know this data\n\n\n\n::: {.cell output-location='default'}\n\n```{.r .cell-code  code-line-numbers=\"|,4,5\"}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\ndata(\"penguins\")\npenguins %>% \n  select(1:5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 344 × 5\n   species island    bill_length_mm bill_depth_mm flipper_length_mm\n   <fct>   <fct>              <dbl>         <dbl>             <int>\n 1 Adelie  Torgersen           39.1          18.7               181\n 2 Adelie  Torgersen           39.5          17.4               186\n 3 Adelie  Torgersen           40.3          18                 195\n 4 Adelie  Torgersen           NA            NA                  NA\n 5 Adelie  Torgersen           36.7          19.3               193\n 6 Adelie  Torgersen           39.3          20.6               190\n 7 Adelie  Torgersen           38.9          17.8               181\n 8 Adelie  Torgersen           39.2          19.6               195\n 9 Adelie  Torgersen           34.1          18.1               193\n10 Adelie  Torgersen           42            20.2               190\n# ℹ 334 more rows\n```\n\n\n:::\n:::\n\n\n\n## How to visually check continuous variables?{.center}\n\n## Histograms\n\n\n\n::: {.cell output-location='default'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\ndata(\"penguins\")\npenguins %>% \ngroup_by(species) %>% \n  ggplot(aes(x=bill_length_mm, color=species, fill=species))+\n  geom_histogram()\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-3-1.png){width=960}\n:::\n:::\n\n\n\n## Boxplots\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\ndata(\"penguins\")\npenguins %>% \ngroup_by(species) %>% \n  ggplot(aes(x=species, \n             y=bill_length_mm, \n             color=species, \n             fill=species))+\n  geom_boxplot(alpha=0.5)+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\n\n\n## Your turn\n\n- Try to reproduce with any other continuous variable\n- |Do a Historgram and a Boxplot\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_6371771b\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">15</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n\n## Checking categorical varibles{.center}\n\n## Species of penguin\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins %>% \n  ggplot(aes(x=species,\n             color=species, \n             fill=species))+\n  geom_bar(alpha=0.5)+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n\n\n## Observations per year\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins %>% \n  ggplot(aes(x=year,\n             color=species, \n             fill=species))+\n  geom_bar()+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n\n\n\n## Observations per island\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins %>% \n  ggplot(aes(x=island,\n             color=species, \n             fill=species))+\n  geom_bar()+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-8-1.png){width=960}\n:::\n:::\n\n\n\n\n## Visualising correlations\n\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\npenguins %>% \n  ggplot(aes(x=bill_length_mm, \n             y = bill_depth_mm))+\n  geom_point()+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-9-1.png){width=960}\n:::\n:::\n\n\n\n## Visualising correlations per species\n\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\npenguins %>% \n  ggplot(aes(x=bill_length_mm, \n             y = bill_depth_mm,\n             color=species, \n             fill=species))+\n  geom_point()+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-10-1.png){width=960}\n:::\n:::\n\n\n\n\n## Body mass per sex\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\npenguins %>% \n  na.omit() %>% \n  ggplot(aes(x=sex, \n             y = body_mass_g,\n             color=species, \n             fill=species))+\n  geom_boxplot(alpha=0.7)+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-11-1.png){width=960}\n:::\n:::\n\n\n\n## Body mass per sex (iverting groups)\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\npenguins %>% \n  na.omit() %>% \n  ggplot(aes(x=species, \n             y = body_mass_g,\n             color=sex, \n             fill=sex))+\n  geom_boxplot(alpha=0.7)+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-12-1.png){width=960}\n:::\n:::\n\n\n\n## Your turn\n\n- Can boby mass predict bill length?\n- Do sex explain flipper length\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_a05ffcc9\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">15</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n\n## Exploring data is asking relevant questions\n\n- This is not mining \n- Don't just correlate random things\n- Start to imagine before coding\n\n## Check distributions\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\npenguins %>% \n  na.omit() %>% \n  pivot_longer(bill_length_mm:body_mass_g, names_to = \"trait\") %>% \n  ggplot(aes(x=value,\n         group=species,\n         fill=species,\n         color=species))+\n  geom_density(alpha=0.7)+\n  facet_grid(~trait, scales = \"free_x\" )+\n  theme(axis.text=element_text(size=16),\n        axis.title=element_text(size=16))+\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-14-1.png){width=960}\n:::\n:::\n\n\n\n## The importance of distributions\n\n![](img/dist.png)\n\nsource:<https://gregorygundersen.com/blog/2020/04/11/moments/>\n\n## Moments of centrality\n\n![](img/mean.png)\n\nMean, median and mode\n\n## Moments of dispersion\n:::{.columns}\n:::{.column width=\"50%\"}\n![](https://media.geeksforgeeks.org/wp-content/uploads/20230810105933/measure-of-depression.png)\n:::\n:::{.column width=\"50%\" .fragment}\n- Variance\n- Standard deviation\n- Standard Error\n- Range\n- Quantiles\n:::\n:::\n\n## Checking via histogram\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nset.seed(999)\nnormal<-rnorm(100)\nnormal %>% \n  as.tibble() %>% \n  ggplot(aes(value))+\n  geom_histogram(color=\"#DD4A48\", fill=\"#DD4A48\")+\n  geom_vline(xintercept=c(mean(normal), (mean(normal)+sd(normal)),mean(normal)-sd(normal)), \n             linetype=\"dashed\")\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-15-1.png){width=960}\n:::\n:::\n\n\n\n## Checking via bokplot\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nset.seed(999)\nnormal<-rnorm(100)\nnormal %>% \n  as.tibble() %>% \n  ggplot(aes(value))+\n  geom_boxplot(fill=\"#DD4A48\",alpha=0.7)\n```\n\n::: {.cell-output-display}\n![](03_data_exploration_files/figure-revealjs/unnamed-chunk-16-1.png){width=960}\n:::\n:::\n\n\n\n\n## Workflow \n\n![](https://teachdatascience.com/post/screencast/cycle.png)\n\n## End of session on DA {.center}\n\n\n\n",
    "supporting": [
      "03_data_exploration_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}