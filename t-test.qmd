---
title: "Performing T-Tests with R and Palmer Penguins Data"
format: html
---

## Introduction

This tutorial demonstrates how to perform t-tests in R using the Palmer Penguins dataset. T-tests are statistical tests used to compare the means of two groups. We'll cover one-sample, independent two-sample, and paired t-tests.

## Prerequisites

* R and RStudio installed.
* The `palmerpenguins` and `dplyr` packages installed.

```{r}
#| message: false
#| warning: false
library(palmerpenguins)
library(dplyr)

```
Loading the Data
We'll use the penguins dataset from the palmerpenguins package.  We remove any rows with missing values to simplify the analysis.data(penguins)
penguins_complete <- penguins %>% filter(!is.na(flipper_length_mm), !is.na(species))
One-Sample T-TestA one-sample t-test compares the mean of a single group to a known or hypothesized mean.Example: Test if the mean flipper length of all penguins is significantly different from 200 mm.t.test(penguins_complete$flipper_length_mm, mu = 200)
Interpretation:t: The calculated t-statistic.df: Degrees of freedom.p-value: The probability of observing the data if the null hypothesis (mean = 200) is true.alternative hypothesis: The alternative hypothesis tested.95 percent confidence interval: The range within which we are 95% confident the true mean lies.sample estimates: The sample mean.If the p-value is less than the significance level (e.g., 0.05), we reject the null hypothesis.Independent Two-Sample T-TestAn independent two-sample t-test compares the means of two independent groups.Example: Test if the mean flipper length differs between Adelie and Gentoo penguins.adelie_gentoo <- penguins_complete %>%
    filter(species %in% c("Adelie", "Gentoo"))

t.test(flipper_length_mm ~ species, data = adelie_gentoo)
Interpretation:The output is similar to the one-sample t-test, but it compares the means of the two groups specified by the formula flipper_length_mm ~ species.Paired T-TestA paired t-test compares the means of two related groups (e.g., measurements taken before and after a treatment). The Palmer Penguins dataset does not contain paired data, so we'll create a simulated example.# Simulating paired data
set.seed(123)
before <- rnorm(50, mean = 200, sd = 10)
after <- before + rnorm(50, mean = 5, sd = 5) # Adding an average of 5 to simulate change

paired_data <- data.frame(before, after)

t.test(paired_data$before, paired_data$after, paired = TRUE)
Interpretation:The paired = TRUE argument specifies a paired t-test. The output shows the difference between the means of the paired samples.Assumptions of T-TestsOne-Sample T-Test:The data should be approximately normally distributed.Independent Two-Sample T-Test:The data in each group should be approximately normally distributed.The variances of the two groups should be approximately equal (unless var.equal = FALSE is specified).The observations should be independent.Paired T-Test:The differences between the paired observations should be approximately normally distributed.Checking AssumptionsWe can check the normality assumption using histograms and QQ plots. For the independent t-test, we can check the equal variance assumption using the Bartlett test.# Example normality check for one-sample
hist(penguins_complete$flipper_length_mm, main = "Histogram of Flipper Length")
qqnorm(penguins_complete$flipper_length_mm, main = "QQ Plot of Flipper Length")
qqline(penguins_complete$flipper_length_mm)

# Example normality check for two independent samples.
hist(adelie_gentoo$flipper_length_mm[adelie_gentoo$species == 'Adelie'], main = "Adelie Flipper Length")
hist(adelie_gentoo$flipper_length_mm[adelie_gentoo$species == 'Gentoo'], main = "Gentoo Flipper Length")

# Example normality check for paired data differences.
hist(paired_data$after - paired_data$before,  main = "Histogram of Paired Differences")
qqnorm(paired_data$after - paired_data$before, main = "QQ Plot of Paired Differences")
qqline(paired_data$after - paired_data$before)

# Example variance check for independent two-sample t-test
bartlett.test(flipper_length_mm ~ species, data = adelie_gentoo)
The Bartlett test is used to test for equal variance. If the p-value is low (typically < 0.05), it